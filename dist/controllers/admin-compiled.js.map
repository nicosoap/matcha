{"version":3,"sources":["admin.js"],"names":[],"mappings":";;;;;QA4BsB,Y,GAAA,Y;;AAhBtB;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;IAAY,G;;AACZ;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;AAvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAcA,IAAI,aAAa,EAAjB;;AAEA,IAAI,cAAc,qBAAW,eAAX,CAA2B,0DAA3B,CAAlB;;AAEO,eAAe,YAAf,CAA4B,GAA5B,EAAiC,GAAjC,EAAsC;AACzC,QAAI,IAAI,IAAJ,CAAS,QAAT,KAAsB,SAA1B,EAAqC;AACjC,YAAI,QAAQ,IAAI,IAAJ,CAAS,KAArB;AACA,YAAI,WAAW,IAAI,IAAJ,CAAS,QAAxB;AACA,gBAAQ,QAAR;AACI,iBAAK,MAAL;AACI;AACJ,iBAAK,SAAL;AACI;AACJ,iBAAK,QAAL;AACI,oBAAI,aAAa,IAAI,IAAJ,CAAS,UAAT,CAAoB,MAApB,CAA2B,aAAK;AAC7C,2BAAO,KAAK,EAAZ;AACH,iBAFgB,CAAjB;AAGA;AACJ,iBAAK,YAAL;AACI,oBAAI,aAAa,IAAI,IAAJ,CAAS,UAA1B;AACA;AAZR;AAcA,YAAI,WAAW,EAAE,OAAO,KAAT,EAAgB,UAAU,QAA1B,EAAoC,YAAY,UAAhD,EAA4D,YAAY,UAAxE,EAAf;AACA,YAAI,KAAK,MAAM,IAAI,OAAJ,EAAf;AACA,YAAI,WAAW,MAAM,GAAG,UAAH,CAAc,cAAd,EAA8B,MAA9B,CAAqC,QAArC,CAArB;AACA,YAAI;AACA,gBAAI,IAAJ,CAAS,QAAT;AACH,SAFD,SAEU;AACN,eAAG,KAAH;AACH;AACJ,KAzBD,MAyBO;AACH,YAAI,QAAJ,CAAa,GAAb;AACH;AACJ","file":"admin-compiled.js","sourcesContent":["// ************************************************************************** //\n//                                                                            //\n//                                                        :::      ::::::::   //\n//   admin.js                                           :+:      :+:    :+:   //\n//                                                    +:+ +:+         +:+     //\n//   By: opichou <marvin@42.fr>                     +#+  +:+       +#+        //\n//                                                +#+#+#+#+#+   +#+           //\n//   Created: 2016/09/29 18:27:53 by opichou           #+#    #+#             //\n//   Updated: 2016/09/29 18:27:53 by opichou          ###   ########.fr       //\n//                                                                            //\n// ************************************************************************** //\n\nimport fs from 'fs';\nimport parseurl from 'parseurl';\nimport bodyParser from 'body-parser';\nimport session from 'express-session';\nimport bcrypt from 'bcrypt';\nimport * as dbl from \"./dbConnect\";\nimport credentials from '../credentials';\nimport mongodb from 'mongodb';\nimport jwt from 'jsonwebtoken';\nimport nodemailer from 'nodemailer';\nimport ERROR from './errno_code';\nimport match from '../model/match';\nlet saltRounds = 10;\n\nlet transporter = nodemailer.createTransport('smtps://apimatcha@gmail.com:apiMatcha1212@smtp.gmail.com');\n\nexport async function addFormItems(req, res) {\n    if (req.user.username === 'olivier') {\n        let label = req.body.label;\n        let dataType = req.body.dataType;\n        switch (dataType) {\n            case \"text\":\n                break;\n            case \"bigText\":\n                break;\n            case \"option\":\n                var optionList = req.body.optionList.filter(n => {\n                    return n != '';\n                });\n                break;\n            case \"imageField\":\n                var multiInput = req.body.multiInput;\n                break;\n        }\n        let formItem = { label: label, dataType: dataType, optionList: optionList, multiInput: multiInput };\n        let db = await dbl.connect();\n        let response = await db.collection('profileItems').addOne(formItem);\n        try {\n            res.send(response);\n        } finally {\n            db.close();\n        }\n    } else {\n        res.redirect('/');\n    }\n}"]}