{"version":3,"sources":["admin-compiled.js"],"names":[],"mappings":"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","file":"admin-compiled-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addFormItems = addFormItems;\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _parseurl = require('parseurl');\n\nvar _parseurl2 = _interopRequireDefault(_parseurl);\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _expressSession = require('express-session');\n\nvar _expressSession2 = _interopRequireDefault(_expressSession);\n\nvar _bcrypt = require('bcrypt');\n\nvar _bcrypt2 = _interopRequireDefault(_bcrypt);\n\nvar _dbConnect = require('./dbConnect');\n\nvar dbl = _interopRequireWildcard(_dbConnect);\n\nvar _credentials = require('../credentials');\n\nvar _credentials2 = _interopRequireDefault(_credentials);\n\nvar _mongodb = require('mongodb');\n\nvar _mongodb2 = _interopRequireDefault(_mongodb);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _nodemailer = require('nodemailer');\n\nvar _nodemailer2 = _interopRequireDefault(_nodemailer);\n\nvar _errno_code = require('./errno_code');\n\nvar _errno_code2 = _interopRequireDefault(_errno_code);\n\nvar _match = require('../model/match');\n\nvar _match2 = _interopRequireDefault(_match);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// ************************************************************************** //\n//                                                                            //\n//                                                        :::      ::::::::   //\n//   admin.js                                           :+:      :+:    :+:   //\n//                                                    +:+ +:+         +:+     //\n//   By: opichou <marvin@42.fr>                     +#+  +:+       +#+        //\n//                                                +#+#+#+#+#+   +#+           //\n//   Created: 2016/09/29 18:27:53 by opichou           #+#    #+#             //\n//   Updated: 2016/09/29 18:27:53 by opichou          ###   ########.fr       //\n//                                                                            //\n// ************************************************************************** //\n\nvar saltRounds = 10;\n\nvar transporter = _nodemailer2.default.createTransport('smtps://apimatcha@gmail.com:apiMatcha1212@smtp.gmail.com');\n\nasync function addFormItems(req, res) {\n    if (req.user.username === 'olivier') {\n        var label = req.body.label;\n        var dataType = req.body.dataType;\n        switch (dataType) {\n            case \"text\":\n                break;\n            case \"bigText\":\n                break;\n            case \"option\":\n                var optionList = req.body.optionList.filter(function (n) {\n                    return n != '';\n                });\n                break;\n            case \"imageField\":\n                var multiInput = req.body.multiInput;\n                break;\n        }\n        var formItem = { label: label, dataType: dataType, optionList: optionList, multiInput: multiInput };\n        var db = await dbl.connect();\n        var response = await db.collection('profileItems').addOne(formItem);\n        try {\n            res.send(response);\n        } finally {\n            db.close();\n        }\n    } else {\n        res.redirect('/');\n    }\n}\n\n//# sourceMappingURL=admin-compiled.js.map"]}