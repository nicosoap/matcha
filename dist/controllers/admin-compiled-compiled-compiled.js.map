{"version":3,"sources":["admin-compiled-compiled.js"],"names":[],"mappings":"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","file":"admin-compiled-compiled-compiled.js","sourcesContent":["'use strict';\n\nvar addFormItems = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n        var label, dataType, optionList, multiInput, formItem, db, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        if (!(req.user.username === 'olivier')) {\n                            _context.next = 22;\n                            break;\n                        }\n\n                        label = req.body.label;\n                        dataType = req.body.dataType;\n                        _context.t0 = dataType;\n                        _context.next = _context.t0 === \"text\" ? 6 : _context.t0 === \"bigText\" ? 7 : _context.t0 === \"option\" ? 8 : _context.t0 === \"imageField\" ? 10 : 12;\n                        break;\n\n                    case 6:\n                        return _context.abrupt('break', 12);\n\n                    case 7:\n                        return _context.abrupt('break', 12);\n\n                    case 8:\n                        optionList = req.body.optionList.filter(function (n) {\n                            return n != '';\n                        });\n                        return _context.abrupt('break', 12);\n\n                    case 10:\n                        multiInput = req.body.multiInput;\n                        return _context.abrupt('break', 12);\n\n                    case 12:\n                        formItem = { label: label, dataType: dataType, optionList: optionList, multiInput: multiInput };\n                        _context.next = 15;\n                        return dbl.connect();\n\n                    case 15:\n                        db = _context.sent;\n                        _context.next = 18;\n                        return db.collection('profileItems').addOne(formItem);\n\n                    case 18:\n                        response = _context.sent;\n\n                        try {\n                            res.send(response);\n                        } finally {\n                            db.close();\n                        }\n                        _context.next = 23;\n                        break;\n\n                    case 22:\n                        res.redirect('/');\n\n                    case 23:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function addFormItems(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\n//# sourceMappingURL=admin-compiled.js.map\n\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.addFormItems = addFormItems;\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _parseurl = require('parseurl');\n\nvar _parseurl2 = _interopRequireDefault(_parseurl);\n\nvar _bodyParser = require('body-parser');\n\nvar _bodyParser2 = _interopRequireDefault(_bodyParser);\n\nvar _expressSession = require('express-session');\n\nvar _expressSession2 = _interopRequireDefault(_expressSession);\n\nvar _bcrypt = require('bcrypt');\n\nvar _bcrypt2 = _interopRequireDefault(_bcrypt);\n\nvar _dbConnect = require('./dbConnect');\n\nvar dbl = _interopRequireWildcard(_dbConnect);\n\nvar _credentials = require('../credentials');\n\nvar _credentials2 = _interopRequireDefault(_credentials);\n\nvar _mongodb = require('mongodb');\n\nvar _mongodb2 = _interopRequireDefault(_mongodb);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _nodemailer = require('nodemailer');\n\nvar _nodemailer2 = _interopRequireDefault(_nodemailer);\n\nvar _errno_code = require('./errno_code');\n\nvar _errno_code2 = _interopRequireDefault(_errno_code);\n\nvar _match = require('../model/match');\n\nvar _match2 = _interopRequireDefault(_match);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\n// ************************************************************************** //\n//                                                                            //\n//                                                        :::      ::::::::   //\n//   admin.js                                           :+:      :+:    :+:   //\n//                                                    +:+ +:+         +:+     //\n//   By: opichou <marvin@42.fr>                     +#+  +:+       +#+        //\n//                                                +#+#+#+#+#+   +#+           //\n//   Created: 2016/09/29 18:27:53 by opichou           #+#    #+#             //\n//   Updated: 2016/09/29 18:27:53 by opichou          ###   ########.fr       //\n//                                                                            //\n// ************************************************************************** //\n\nvar saltRounds = 10;\n\nvar transporter = _nodemailer2.default.createTransport('smtps://apimatcha@gmail.com:apiMatcha1212@smtp.gmail.com');\n\n//# sourceMappingURL=admin-compiled-compiled.js.map"]}