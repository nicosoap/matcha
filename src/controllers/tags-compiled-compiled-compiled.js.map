{"version":3,"sources":["tags-compiled-compiled.js"],"names":[],"mappings":"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","file":"tags-compiled-compiled-compiled.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.viewAll = exports.addTag = exports.tags = undefined;\n\nvar tags = exports.tags = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(req, res) {\n        var db, response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n                switch (_context.prev = _context.next) {\n                    case 0:\n                        _context.next = 2;\n                        return dbl.connect();\n\n                    case 2:\n                        db = _context.sent;\n                        _context.next = 5;\n                        return db.colletion('tags').find().sort({ count: desc });\n\n                    case 5:\n                        response = _context.sent;\n\n                        res.send({ response: response });\n\n                    case 7:\n                    case 'end':\n                        return _context.stop();\n                }\n            }\n        }, _callee, this);\n    }));\n\n    return function tags(_x, _x2) {\n        return _ref.apply(this, arguments);\n    };\n}();\n\nvar addTag = exports.addTag = function () {\n    var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(req, res) {\n        var _this = this;\n\n        var tags, db;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n            while (1) {\n                switch (_context4.prev = _context4.next) {\n                    case 0:\n                        _context4.next = 2;\n                        return req.body.tags;\n\n                    case 2:\n                        tags = _context4.sent;\n\n                        if (tags === '') {\n                            console.log({ status: \"ok\", tagsCreated: 0 });\n                        }\n                        _context4.next = 6;\n                        return dbl.connect();\n\n                    case 6:\n                        db = _context4.sent;\n                        _context4.prev = 7;\n                        return _context4.delegateYield(regeneratorRuntime.mark(function _callee3() {\n                            var bulk, result;\n                            return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                                while (1) {\n                                    switch (_context3.prev = _context3.next) {\n                                        case 0:\n                                            _context3.next = 2;\n                                            return db.collection('tags').initializeUnorderedBulkOp();\n\n                                        case 2:\n                                            bulk = _context3.sent;\n                                            _context3.next = 5;\n                                            return tags.filter(function (n) {\n                                                return n != '';\n                                            }).forEach(function () {\n                                                var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(n) {\n                                                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                                                        while (1) {\n                                                            switch (_context2.prev = _context2.next) {\n                                                                case 0:\n                                                                    bulk.find({ label: n }).upsert().updateOne({ $inc: { count: 1 } });\n\n                                                                case 1:\n                                                                case 'end':\n                                                                    return _context2.stop();\n                                                            }\n                                                        }\n                                                    }, _callee2, _this);\n                                                }));\n\n                                                return function (_x5) {\n                                                    return _ref3.apply(this, arguments);\n                                                };\n                                            }());\n\n                                        case 5:\n                                            _context3.next = 7;\n                                            return bulk.execute({ w: 1 });\n\n                                        case 7:\n                                            result = _context3.sent;\n\n                                            console.error(result);\n\n                                        case 9:\n                                        case 'end':\n                                            return _context3.stop();\n                                    }\n                                }\n                            }, _callee3, _this);\n                        })(), 't0', 9);\n\n                    case 9:\n                        _context4.prev = 9;\n\n                        db.close();\n                        return _context4.finish(9);\n\n                    case 12:\n                    case 'end':\n                        return _context4.stop();\n                }\n            }\n        }, _callee4, this, [[7,, 9, 12]]);\n    }));\n\n    return function addTag(_x3, _x4) {\n        return _ref2.apply(this, arguments);\n    };\n}();\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _expressSession = require('express-session');\n\nvar _expressSession2 = _interopRequireDefault(_expressSession);\n\nvar _bcryptNodejs = require('bcrypt-nodejs');\n\nvar _bcryptNodejs2 = _interopRequireDefault(_bcryptNodejs);\n\nvar _dbConnect = require('./dbConnect');\n\nvar dbl = _interopRequireWildcard(_dbConnect);\n\nvar _credentials = require('../credentials');\n\nvar _credentials2 = _interopRequireDefault(_credentials);\n\nvar _mongodb = require('mongodb');\n\nvar _mongodb2 = _interopRequireDefault(_mongodb);\n\nvar _jsonwebtoken = require('jsonwebtoken');\n\nvar _jsonwebtoken2 = _interopRequireDefault(_jsonwebtoken);\n\nvar _nodemailer = require('nodemailer');\n\nvar _nodemailer2 = _interopRequireDefault(_nodemailer);\n\nvar _errno_code = require('./errno_code');\n\nvar _errno_code2 = _interopRequireDefault(_errno_code);\n\nvar _match = require('../model/match');\n\nvar _match2 = _interopRequireDefault(_match);\n\nfunction _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n        return obj;\n    } else {\n        var newObj = {};if (obj != null) {\n            for (var key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n            }\n        }newObj.default = obj;return newObj;\n    }\n}\n\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\n\nfunction _asyncToGenerator(fn) {\n    return function () {\n        var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n                try {\n                    var info = gen[key](arg);var value = info.value;\n                } catch (error) {\n                    reject(error);return;\n                }if (info.done) {\n                    resolve(value);\n                } else {\n                    return Promise.resolve(value).then(function (value) {\n                        step(\"next\", value);\n                    }, function (err) {\n                        step(\"throw\", err);\n                    });\n                }\n            }return step(\"next\");\n        });\n    };\n} // ************************************************************************** //\n//                                                                            //\n//                                                        :::      ::::::::   //\n//   user.js                                            :+:      :+:    :+:   //\n//                                                    +:+ +:+         +:+     //\n//   By: opichou <marvin@42.fr>                     +#+  +:+       +#+        //\n//                                                +#+#+#+#+#+   +#+           //\n//   Created: 2016/09/19 18:27:53 by opichou           #+#    #+#             //\n//   Updated: 2016/09/29 18:27:53 by opichou          ###   ########.fr       //\n//                                                                            //\n// ************************************************************************** //\n\nvar saltRounds = 10;\n\nvar transporter = _nodemailer2.default.createTransport('smtps://apimatcha@gmail.com:apiMatcha1212@smtp.gmail.com');\n\nfunction now() {\n    var currentDate = new Date();\n    return currentDate.getDate() + \"/\" + (\"0\" + (currentDate.getMonth() + 1)).slice(-2) + \"/\" + currentDate.getFullYear() + \" @ \" + currentDate.getHours() + \":\" + currentDate.getMinutes() + \":\" + currentDate.getSeconds();\n}\n\nfunction contains(a, obj) {\n    for (var i = 0; i < a.length; i++) {\n        if (a[i] === obj) {\n            return true;\n        }\n    }\n    return false;\n}\n\nvar viewAll = exports.viewAll = function () {\n    var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(req, res) {\n        var regexHashtag, regexNetflix, regexRightNow, regexAge, regexPopularity, regexGeocode, query, netflix, rightnow, age, popularity, geocode, i, tags;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n            while (1) {\n                switch (_context5.prev = _context5.next) {\n                    case 0:\n                        regexHashtag = /#([a-zA-Z0-9-]*)+/g, regexNetflix = /netflix/i, regexRightNow = /rightnow/i, regexAge = /age-from=([0-9]{1,2}).*age-to=([0-9]{1,2})/i, regexPopularity = /popularity-from=([0-9]{1,2}).*popularity-to=([0-9]{1,3})/i, regexGeocode = /around-lat=([0-9]{1,2}\\.{0,1}[0-9]{0,16}).*around-lng=([0-9]{1,2}\\.{0,1}[0-9]{0,16})/i, query = req.query.query, netflix = regexNetflix.test(query), rightnow = regexRightNow.test(query), age = regexAge.exec(query), popularity = regexPopularity.exec(query), geocode = regexGeocode.exec(query);\n                        i = 0, tags = [];\n\n                        while ((temp = regexHashtag.exec(query)) !== null) {\n                            tags[i] = temp[1];\n                            i++;\n                        }\n\n                        res.send({ message: \"User search is unavailable now\" });\n\n                    case 4:\n                    case 'end':\n                        return _context5.stop();\n                }\n            }\n        }, _callee5, undefined);\n    }));\n\n    return function viewAll(_x6, _x7) {\n        return _ref4.apply(this, arguments);\n    };\n}();\n\n//# sourceMappingURL=tags-compiled.js.map\n\n//# sourceMappingURL=tags-compiled-compiled.js.map"]}